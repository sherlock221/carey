function transformLayer(t){var i=Cons.LayerHeight*t;UI.ScreenAll.css({"-webkit-transform":"translate3d(0px, -"+i+"px,0px)",transform:"translate3d(0px, -"+i+"px,0px)"})}function currentIndexSlice(t){var i=Cons.LastIndex;return t>i?t=i:0>t&&(t=0),t}var util=function(){var t=function(){var t=navigator.userAgent.toLowerCase(),i=t.indexOf("micromessenger")>-1?"weixin":/qq\/([\d\.]+)*/.test(t)?"qq":"web";return i},i=function(){var t=document.createElement("div"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var e in i)if(void 0!==t.style[e])return{end:i[e]};return!1},e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(t){return clearTimeout(t,1e3/60)},s=function(){var t,i=Array.prototype.slice.call(arguments,0),e=i[0],n=!1;"boolean"==typeof i[i.length-1]&&(n=i[i.length-1],i.pop());for(var o=1;i.length>o;o++)for(t in i[o])n&&"object"==typeof i[o][t]?(e[t]={},s(e[t],i[o][t],!0)):e[t]=i[o][t];return e},o=function(t,i){return t=t||null,function(){i.apply(t,arguments)}},r=function(t,i,e){var n=function(){var t=null;try{t=new ActiveXObject("microsoft.xmlhttp")}catch(i){try{t=new XMLHttpRequest}catch(e){window.alert("您的浏览器不支持ajax，请更换！")}}return t},s="";if("object"==typeof i)for(var o in i)s+="&"+o+"="+i.name;s.replace(/^&/,"?");var r=n();t&&(r.open("get",t+s,!0),r.send(null),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&e&&e()})},a=function(t,i){var e=t.className,n=RegExp("(^"+i+"\\s+)|(\\s+"+i+"\\s+)|(\\s+"+i+"$)|(^"+i+"$)","g");if(e){if(n.test(e))return;t.className=e+" "+i}else t.className=i},l=function(t,i){var e=t.className,n=RegExp("(^"+i+"\\s+)|(\\s+"+i+"\\s+)|(\\s+"+i+"$)|(^"+i+"$)","g");e=e.replace(n,function(t,i,e){return e?" ":""}),t.className=e},h=function(t,i,e){i=i.replace(/\-/g,"\\-");var n=[0];if(arguments.length>2)for(var s=2;arguments.length>s;++s)n[s-2]=arguments[s];if("none"==t||""==t)return null;var o=RegExp(i+"\\(([^\\)]+)\\)","ig"),r=t.match(o),a=[],l=[];if(r&&r.length>0){r=r[0],a=r.replace(o,"$1").split(",");for(var s=0;n.length>s;++s)l.push(a[n[s]])}return 1==l.length?l=l[0]:e&&(l=l[e]),l},c=function(){};return{noop:c,transitionEnd:i,RAF:e,cRAF:n,extend:s,proxy:o,getBF:t,get:r,addClass:a,removeClass:l,getTransform:h}}(),Event=function(){var t={},i=function(i,e,n){return"object"==typeof n?(n.event||(n.event={}),n.event[i]||(n.event[i]=[]),n.event[i].push(e),void 0):(t[i]||(t[i]=[]),t[i].push(e),void 0)},e=function(i,e,n){var s=t[i];if(e.event&&e.event[i]&&(s=e.event[i]),void 0!=s)for(var o=0;s.length>o;o++)s[o].call(e,n||{})};return{bind:i,trigger:e}}(),timer={remainTime:function(t,i,e,n,s,o){var r=new Date(t,i-1,e,n,s,o).getTime(),a=(new Date).getTime(),l=r-a;if(0>l)return{hour:0,min:0,sec:0};var h=Math.floor(l/36e5);l%=36e5;var s=Math.floor(l/6e4);l%=6e4;var c=Math.floor(l/1e3);return{hour:h,min:s,sec:c}}};Function.prototype.delegate=function(t){var i=this;return function(){i.apply(t,arguments)}};var UI={ScreenAll:$("#screen-all"),logo:$("#logo"),box:$("#px")},Cons={LayerHeight:0,currentIndex:0,LastIndex:0},tt=document.querySelector("#px");tt&&tt.addEventListener("webkitAnimationEnd",function(){return UI.box.removeClass("rubberBand").addClass("open"),!1},!1);var EventMobile={init:function(){EventMobile.button(),$(window).resize(function(){})},button:function(){var t=UI.ScreenAll.find(".screen");Cons.LastIndex=t.size()-1,new Scroller("#wp",{Scontainer:".screen-all",hScroll:!1,vScroll:!0,momentum:!0,bounce:!1,snap:!0,scrollBefore:function(){},onScroll:function(){},onTouchEnd:function(){},scrollEnd:function(t){console.log(t),"0"==t||"8"==t?UI.logo.css("opacity","0"):"1"==t&&UI.logo.css("opacity","1"),this.$li;for(var i=UI.ScreenAll.find(".screen"),e=i.filter("[id='screen-0"+t+"']"),n=0;i.length>n;n++){var s=$(i[n]);s.find(".content").addClass("hide")}e.find(".content").removeClass("hide")}})}},imageList=["./static/images/all-zip.png","./static/images/box.jpg","./static/images/bg.png","./static/images/font.png","./static/images/icon.png","./static/images/jianpin.jpg","./static/images/share.png"],ld=new loadermsk(imageList,"#0e79ef",function(){EventMobile.init(),$("#wp").show()}),brower={versions:function(){var t,i=window.navigator.userAgent;if(i.indexOf("Trident")>-1)return"IE";if(i.indexOf("Presto")>-1)return"Opera";if(i.indexOf("Gecko")>-1&&-1==i.indexOf("KHTML"))return"Firefox";if(i.indexOf("AppleWebKit"&&i.indexOf("Safari")>-1)>-1)return i.indexOf("Chrome")>-1?"Chrome":i.indexOf("OPR")?"Opera_webkit":"Safari";if(i.indexOf("Mobile")>-1)if(i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){if(i.indexOf("iPhone")>-1)return"iPhone";if(i.indexOf("iPod")>-1)return"iPod";if(i.indexOf("iPad")>-1)return"iPad"}else{if(i.indexOf("Android")>-1||i.indexOf("Linux")>-1)return t=i.substr(i.indexOf("Android")+8,3),{type:"Android",version:t};if(i.indexOf("BB10")>-1)return"BB10";if(i.indexOf("IEMobile"))return"Windows Phone"}}},Scroller=function(t,i){if(t||"string"==typeof t){var e=t,n=i||{};this.init(e,n)}},_default_opts={Scontainer:".container",hScroll:!1,vScroll:!1,momentum:!1,bounce:!1,lockDirection:!0,snap:!0,nesting:!1};Scroller.prototype={init:function(t,i){this.opts=util.extend({},_default_opts,i),console.log(this.opts);var e=document.querySelector(t+" "+this.opts.Scontainer),n=document.querySelector(t);this._initUi(e,n),this._mixH=n.offsetHeight-e.offsetHeight,this._mixW=n.offsetWidth-e.offsetWidth,this.$el.style.webkitTransform="translate3D(0, 0, 0)",this.opts.hScroll&&(this.lock="lock_y"),this.opts.vScroll&&(this.lock="lock_x"),this.opts.hScroll&&this.opts.vScroll&&(this.lock=void 0),this.initEvent(i)},_initUi:function(t,i){if(this.opts.snap){var e=i.clientHeight,n=i.clientWidth;this._clientW=n,this._clientH=e;for(var s=t.querySelectorAll("#"+t.id+">li"),o=0,r=s.length;r>o;o++)s[o].style.width=this._clientW+"px",s[o].style.height=this._clientH+"px";t.style.height=t.scrollHeight+"px",t.style.width=t.scrollWidth+"px"}else t.style.height=t.scrollHeight+"px",t.style.width=t.scrollWidth+"px";this.$el=t,this.$parent=i,this.$li=s},_touchstart:function(t){this.drag||(this.drag=!0,target=t.targetTouches[0],this._x=this._x||0,this._y=this._y||0,this.startX=target.pageX,this.startY=target.pageY,this.srartTime=new Date,this._clientX=target.pageX-this._x,this._clientY=target.pageY-this._y,this.$el.style.webkitTransitionDuration="0ms",this.$el.addEventListener("touchmove",this.update.delegate(this)),this.$el.addEventListener("touchend",this.clearEvent.delegate(this)),t.preventDefault(),Event.trigger("scrollBefore",this,t))},initEvent:function(t){t=t||this.opts,this.fun=this._touchstart.delegate(this),this.$el.addEventListener("touchstart",this.fun),this.opts.momentum&&this.$el.addEventListener(util.transitionEnd().end,function(){this.$el.style.webkitTransitionDuration="0ms";var t=this.currNum,i=t?-1*t:"0";Event.trigger("scrollEnd",this,i)}.delegate(this),!1),t.scrollEnd&&Event.bind("scrollBefore",t.scrollBefore||util.noop,this),t.scrollEnd&&Event.bind("scrollEnd",t.scrollEnd||util.noop,this),t.onScroll&&Event.bind("onScroll",t.onScroll||util.noop,this),t.onTouchEnd&&Event.bind("onTouchEnd",t.onTouchEnd||util.noop,this)},scrollTo:function(t){if(this._x=t.x||this._x,this._y=t.y||this._y,this._x=this._x||0,this._y=this._y||0,this.opts.snap){if(t.y>0||t.x>0)var i=Math.ceil;else var i=Math.floor;var e=i(this._y/this._clientH);this._x=i(this._x/this._clientW)*this._clientW,this._y=e*this._clientH}this.$el.style.webkitTransform="translate3d("+this._x+"px, "+this._y+"px, 0px)",this.$el.style.webkitTransitionDuration="300ms",this.currNum=e||0,Event.trigger("onTouchEnd",this,{x:this._x,y:this._y})},reset:function(){this.$el.style.webkitTransform="translate3d(0px, 0px, 0px)",this._x=0,this._y=0},draw:function(){return this._shouldMoved?(this.$el.style.webkitTransform="translate3D("+this._x+"px, "+this._y+"px, 0)",this._shouldMoved=!1,rAF=RAF(this.draw.delegate(this)),void 0):(rAF=RAF(this.draw.delegate(this)),void 0)},clearEvent:function(t){if(this.drag){this.drag=!1,this.$el.removeEventListener("touchmove",this.update,!1),this.$el.removeEventListener("touchend",this.clearEvent,!1);var i,e=t.changedTouches[0],n=e.pageX,s=e.pageY,o=this._x,r=this._y;if(void 0==this.lock||"lock_x"==this.lock){var a=0>s-this.startY?-1:1;i=a}if(void 0==this.lock||"lock_y"==this.lock){var l=0>n-this.startX?-1:1;i=l}if(this.opts.momentum){var h=new Date,c=h-this.srartTime;Math.abs(i/c),this.$el.style.webkitTransitionDuration="500ms"}if(this.opts.snap){if(a>0||l>0)var d=Math.ceil;else var d=Math.floor;var u;u=d(r/this._clientH),o=d(o/this._clientW)*this._clientW,r=u*this._clientH,"lock_y"==this.lock&&(u=d(o/this._clientW))}this.opts.momentum&&!this.opts.snap&&((void 0==this.lock||"lock_y"==this.lock)&&(o+=1e4*(i/c)),(void 0==this.lock||"lock_x"==this.lock)&&(r+=1e4*(i/c))),void 0==this.lock||"lock_x"==this.lock?(r>0&&(r=0),this._mixH>r&&(r=this._mixH)):(void 0==this.lock||"lock_y"==this.lock)&&(o>0&&(o=0),this._mixW>o&&(o=this._mixW)),this._x=o,this._y=r,this.currNum=u||0,this.$el.style.webkitTransform="translate3d("+o+"px, "+r+"px, 0px)",Event.trigger("onTouchEnd",this,{x:this._x,y:this._y}),this.opts.nesting&&(this.lock=void 0),this.opts.lockDirection&&this.opts.hScroll&&this.opts.vScroll&&(this.lock=void 0)}},update:function(t){if(this.drag){var i=t.targetTouches[0],e=i.pageY-this._clientY,n=i.pageX-this._clientX;if(e!=n){var s=Math.abs(this._y-e)>Math.abs(this._x-n)?1:-1;if(this.opts.lockDirection&&void 0==this.lock&&(1==s?this.lock="lock_x":-1==s&&(this.lock="lock_y")),"lock_x"==this.lock&&-1==s)return t.stopPropagation(),this.opts.nesting&&(this.opts.nesting.drag=!1),void 0;if("lock_y"==this.lock&&1==s)return t.stopPropagation(),this.opts.nesting&&(this.opts.nesting.drag=!1),void 0;(void 0==this.lock||"lock_x"==this.lock)&&(this.opts.bounce?(e>0&&(e/=3),this._mixH>e&&(e=this._mixH+(e-this._mixH)/3)):(e>0&&(e=0),this._mixH>e&&(e=this._mixH)),this._y=e),(void 0==this.lock||"lock_y"==this.lock)&&(this.opts.bounce?(n>0&&(n/=3),this._mixW>n&&(n=this._mixW+(n-this._mixW)/3)):(n>0&&(n=0),this._mixW>n&&(n=this._mixW)),this._x=n),this._shouldMoved=!0,t.preventDefault(),Event.trigger("onScroll",this,{x:this._x,y:this._y})}}},destory:function(){this.$el.removeEventListener("touchstart",this.fun),this.$parent.style.overflow="visible"}};